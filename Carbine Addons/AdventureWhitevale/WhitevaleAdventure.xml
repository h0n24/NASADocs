<Forms>
    <Form Class="Window" LAnchorPoint="1" LAnchorOffset="-353" TAnchorPoint="0" TAnchorOffset="215" RAnchorPoint="1" RAnchorOffset="0" BAnchorPoint="0" BAnchorOffset="404" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="WhitevaleAdventureForm" Border="0" Picture="0" SwallowMouseClicks="1" Moveable="1" Escapable="0" Overlapped="1" BGColor="ffffffff" TextColor="ffffffff" TextId="" TooltipColor="" Tooltip="">
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="0" TAnchorPoint="0" TAnchorOffset="0" RAnchorPoint="1" RAnchorOffset="0" BAnchorPoint="1" BAnchorOffset="0" RelativeToClient="1" Font="Default" Text="" Template="CRB_Datachron" Name="Main" BGColor="ffffffff" TextColor="ffffffff" TextId="" Picture="0" IgnoreMouse="1" Sprite="ChatLogSprites:sprChat_BlueBG" TooltipColor="" Tooltip="">
            <Event Name="MouseButtonDown" Function="OnClick"/>
            <Event Name="MouseButtonUp" Function="OnClick"/>
            <Control Class="Window" LAnchorPoint="0" LAnchorOffset="-10" TAnchorPoint="0" TAnchorOffset="-10" RAnchorPoint="1" RAnchorOffset="10" BAnchorPoint="1" BAnchorOffset="10" RelativeToClient="1" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="FrameBG" BGColor="white" TextColor="white" TooltipColor="" Sprite="BK3:UI_BK3_Holo_Framing_3" Picture="1" IgnoreMouse="1" Tooltip="" NoClip="1"/>
            <Control Class="Window" LAnchorPoint="0" LAnchorOffset="0" TAnchorPoint="0" TAnchorOffset="0" RAnchorPoint="1" RAnchorOffset="0" BAnchorPoint="1" BAnchorOffset="0" RelativeToClient="1" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="BGArt" BGColor="ffffffff" TextColor="ffffffff" TooltipColor="">
                <Control Class="Window" LAnchorPoint="0" LAnchorOffset="22" TAnchorPoint="0" TAnchorOffset="50" RAnchorPoint=".5" RAnchorOffset="154" BAnchorPoint="0" BAnchorOffset="87" RelativeToClient="1" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="BGArt_SonsUnderlay" BGColor="ffffffff" TextColor="ffffffff" TooltipColor="" Picture="1" IgnoreMouse="1" Sprite="BK3:UI_BK3_Holo_InsetSimple"/>
                <Control Class="Window" LAnchorPoint="0" LAnchorOffset="22" TAnchorPoint="0" TAnchorOffset="90" RAnchorPoint=".5" RAnchorOffset="154" BAnchorPoint="0" BAnchorOffset="127" RelativeToClient="1" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="BGArt_RollersUnderlay" BGColor="ffffffff" TextColor="ffffffff" TooltipColor="" Picture="1" IgnoreMouse="1" Sprite="BK3:UI_BK3_Holo_InsetSimple"/>
                <Control Class="Window" LAnchorPoint="0" LAnchorOffset="22" TAnchorPoint="0" TAnchorOffset="130" RAnchorPoint=".5" RAnchorOffset="154" BAnchorPoint="0" BAnchorOffset="167" RelativeToClient="1" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="BGArt_GrindersUnderlay" BGColor="ffffffff" TextColor="ffffffff" TooltipColor="" Picture="1" IgnoreMouse="1" Sprite="BK3:UI_BK3_Holo_InsetSimple"/>
                <Control Class="Window" LAnchorPoint="0" LAnchorOffset="83" TAnchorPoint="0" TAnchorOffset="22" RAnchorPoint="1" RAnchorOffset="-17" BAnchorPoint="0" BAnchorOffset="47" RelativeToClient="1" Font="CRB_InterfaceSmall" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_TextHoloBodyHighlight" Template="Default" TooltipType="OnCursor" Name="ProgressFrame" TooltipColor="" Sprite="CRB_Basekit:kitIProgBar_Holo_Base" Picture="1" IgnoreMouse="1" DT_VCENTER="1" DT_CENTER="1" Tooltip=""/>
            </Control>
            <Control Class="ProgressBar" Text="" LAnchorPoint="0" LAnchorOffset="96" TAnchorPoint="0" TAnchorOffset="29" RAnchorPoint="1" RAnchorOffset="-29" BAnchorPoint="0" BAnchorOffset="39" AutoSetText="0" UseValues="0" RelativeToClient="1" SetTextToProgress="0" DT_CENTER="1" DT_VCENTER="1" ProgressEmpty="" ProgressFull="CRB_Basekit:kitIProgBar_HoloFrame_FillBlue" Name="Rep" BGColor="ffffffff" TextColor="ffffffff" TooltipColor="white" BarColor="" Sprite="" Font="CRB_InterfaceTiny_BB" TooltipFont="CRB_InterfaceMedium" Tooltip="" TooltipId="CRB_AdventureWhitevale_ReputationDescriptionText" TooltipType="OnCursor" NewWindowDepth="1"/>
            <Control Class="Window" LAnchorPoint="0" LAnchorOffset="27" TAnchorPoint="0" TAnchorOffset="22" RAnchorPoint="1" RAnchorOffset="-266" BAnchorPoint="0" BAnchorOffset="43" RelativeToClient="1" Font="CRB_InterfaceSmall" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_TextHoloBodyHighlight" Template="Default" TooltipType="OnCursor" Name="Window" TooltipColor="" TextId="WhitevaleAdv_Notoriety" DT_VCENTER="1" DT_CENTER="0"/>
            <Control Class="Window" LAnchorPoint="0" LAnchorOffset="19" TAnchorPoint="0" TAnchorOffset="50" RAnchorPoint="1" RAnchorOffset="-27" BAnchorPoint="0" BAnchorOffset="87" RelativeToClient="1" Font="CRB_InterfaceSmall" Text="" Template="Default" Name="SonsLoyalty" BGColor="ffffffff" TextColor="UI_TextHoloTitle" Picture="0" IgnoreMouse="1" Sprite="ChatLogSprites:ChatFrameBackground" DT_VCENTER="1" DT_CENTER="0" TooltipColor="white" TextId="" Tooltip="" TooltipId="CRB_AdventureWhitevale_SonsDescriptionText" TooltipFont="CRB_InterfaceMedium" TooltipType="OnCursor">
                <Control Class="Window" LAnchorPoint="1" LAnchorOffset="-187" TAnchorPoint="0" TAnchorOffset="10" RAnchorPoint="1" RAnchorOffset="-123" BAnchorPoint="0" BAnchorOffset="28" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Sons1Under" BGColor="ff808080" TextColor="ffffffff" Picture="1" IgnoreMouse="1" Sprite="CRB_Basekit:kitIProgBar_Simple_Base" TooltipColor=""/>
                <Control Class="Window" LAnchorPoint="1" LAnchorOffset="-127" TAnchorPoint="0" TAnchorOffset="10" RAnchorPoint="1" RAnchorOffset="-63" BAnchorPoint="0" BAnchorOffset="28" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Sons2Under" BGColor="ff808080" TextColor="ffffffff" Picture="1" IgnoreMouse="1" Sprite="CRB_Basekit:kitIProgBar_Simple_Base" TooltipColor=""/>
                <Control Class="Window" LAnchorPoint="1" LAnchorOffset="-67" TAnchorPoint="0" TAnchorOffset="10" RAnchorPoint="1" RAnchorOffset="-3" BAnchorPoint="0" BAnchorOffset="28" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Sons3Under" BGColor="ff808080" TextColor="ffffffff" Picture="1" IgnoreMouse="1" Sprite="CRB_Basekit:kitIProgBar_Simple_Base" TooltipColor=""/>
                <Control Class="Window" LAnchorPoint="1" LAnchorOffset="-180" TAnchorPoint="0" TAnchorOffset="4" RAnchorPoint="1" RAnchorOffset="-130" BAnchorPoint="0" BAnchorOffset="36" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Sons1" BGColor="ffffffff" TextColor="ffffffff" Picture="1" IgnoreMouse="1" Sprite="CRB_Basekit:kitIProgBar_Holo_Fill" TooltipColor="" NewControlDepth="4" HideInEditor="0"/>
                <Control Class="Window" LAnchorPoint="1" LAnchorOffset="-120" TAnchorPoint="0" TAnchorOffset="4" RAnchorPoint="1" RAnchorOffset="-70" BAnchorPoint="0" BAnchorOffset="35" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Sons2" BGColor="ffffffff" TextColor="ffffffff" Picture="1" IgnoreMouse="1" Sprite="CRB_Basekit:kitIProgBar_Holo_Fill" TooltipColor="" NewControlDepth="4"/>
                <Control Class="Window" LAnchorPoint="1" LAnchorOffset="-60" TAnchorPoint="0" TAnchorOffset="4" RAnchorPoint="1" RAnchorOffset="-10" BAnchorPoint="0" BAnchorOffset="35" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Sons3" BGColor="ffffffff" TextColor="ffffffff" Picture="1" IgnoreMouse="1" Sprite="CRB_Basekit:kitIProgBar_Holo_Fill" TooltipColor="" NewControlDepth="4"/>
                <Control Class="Window" LAnchorPoint="0" LAnchorOffset="8" TAnchorPoint="0" TAnchorOffset="-1" RAnchorPoint="0" RAnchorOffset="114" BAnchorPoint="1" BAnchorOffset="-1" RelativeToClient="1" Font="CRB_InterfaceSmall" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_TextHoloTitle" Template="Default" TooltipType="OnCursor" Name="TitleSons" TooltipColor="" TextId="" DT_WORDBREAK="0" DT_VCENTER="1" DT_RIGHT="1"/>
            </Control>
            <Control Class="Window" LAnchorPoint="0" LAnchorOffset="19" TAnchorPoint="0" TAnchorOffset="91" RAnchorPoint="1" RAnchorOffset="-27" BAnchorPoint="0" BAnchorOffset="128" RelativeToClient="1" Font="CRB_InterfaceSmall" Text="" Template="Default" Name="GrindersLoyalty" BGColor="ffffffff" TextColor="UI_TextHoloTitle" Picture="0" IgnoreMouse="1" Sprite="ChatLogSprites:ChatFrameBackground" DT_VCENTER="1" DT_CENTER="0" TooltipColor="white" TextId="" Tooltip="" TooltipId="CRB_AdventureWhitevale_GrindersDescriptionText" TooltipType="OnCursor" TooltipFont="CRB_InterfaceMedium">
                <Control Class="Window" LAnchorPoint="1" LAnchorOffset="-187" TAnchorPoint="0" TAnchorOffset="10" RAnchorPoint="1" RAnchorOffset="-123" BAnchorPoint="0" BAnchorOffset="28" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Grinders1Under" BGColor="ff808080" TextColor="ffffffff" Picture="1" IgnoreMouse="1" Sprite="CRB_Basekit:kitIProgBar_Simple_Base" TooltipColor=""/>
                <Control Class="Window" LAnchorPoint="1" LAnchorOffset="-127" TAnchorPoint="0" TAnchorOffset="10" RAnchorPoint="1" RAnchorOffset="-63" BAnchorPoint="0" BAnchorOffset="28" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Grinders2Under" BGColor="ff808080" TextColor="ffffffff" Picture="1" IgnoreMouse="1" Sprite="CRB_Basekit:kitIProgBar_Simple_Base" TooltipColor=""/>
                <Control Class="Window" LAnchorPoint="1" LAnchorOffset="-67" TAnchorPoint="0" TAnchorOffset="10" RAnchorPoint="1" RAnchorOffset="-3" BAnchorPoint="0" BAnchorOffset="28" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Grinders3Under" BGColor="ff808080" TextColor="ffffffff" Picture="1" IgnoreMouse="1" Sprite="CRB_Basekit:kitIProgBar_Simple_Base" TooltipColor=""/>
                <Control Class="Window" LAnchorPoint="1" LAnchorOffset="-180" TAnchorPoint="0" TAnchorOffset="4" RAnchorPoint="1" RAnchorOffset="-130" BAnchorPoint="0" BAnchorOffset="36" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Grinders1" BGColor="ffffffff" TextColor="ffffffff" Picture="1" IgnoreMouse="1" Sprite="CRB_Basekit:kitIProgBar_Holo_Fill" TooltipColor="" NewControlDepth="4" HideInEditor="0"/>
                <Control Class="Window" LAnchorPoint="1" LAnchorOffset="-120" TAnchorPoint="0" TAnchorOffset="4" RAnchorPoint="1" RAnchorOffset="-70" BAnchorPoint="0" BAnchorOffset="35" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Grinders2" BGColor="ffffffff" TextColor="ffffffff" Picture="1" IgnoreMouse="1" Sprite="CRB_Basekit:kitIProgBar_Holo_Fill" TooltipColor="" NewControlDepth="4"/>
                <Control Class="Window" LAnchorPoint="1" LAnchorOffset="-60" TAnchorPoint="0" TAnchorOffset="4" RAnchorPoint="1" RAnchorOffset="-10" BAnchorPoint="0" BAnchorOffset="35" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Grinders3" BGColor="ffffffff" TextColor="ffffffff" Picture="1" IgnoreMouse="1" Sprite="CRB_Basekit:kitIProgBar_Holo_Fill" TooltipColor="" NewControlDepth="4"/>
                <Control Class="Window" LAnchorPoint="0" LAnchorOffset="8" TAnchorPoint="0" TAnchorOffset="-1" RAnchorPoint="0" RAnchorOffset="114" BAnchorPoint="1" BAnchorOffset="-1" RelativeToClient="1" Font="CRB_InterfaceSmall" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_TextHoloTitle" Template="Default" TooltipType="OnCursor" Name="TitleGrinders" TooltipColor="" TextId="" DT_WORDBREAK="0" DT_VCENTER="1" DT_RIGHT="1"/>
            </Control>
            <Control Class="Window" LAnchorPoint="0" LAnchorOffset="19" TAnchorPoint="0" TAnchorOffset="131" RAnchorPoint="1" RAnchorOffset="-27" BAnchorPoint="0" BAnchorOffset="168" RelativeToClient="1" Font="CRB_InterfaceSmall" Text="" Template="Default" Name="RollersLoyalty" BGColor="ffffffff" TextColor="UI_TextHoloTitle" Picture="0" IgnoreMouse="1" Sprite="ChatLogSprites:ChatFrameBackground" DT_VCENTER="1" DT_CENTER="0" TooltipColor="white" TextId="" Tooltip="" TooltipId="CRB_AdventureWhitevale_RollersDescriptionText" TooltipType="OnCursor" TooltipFont="CRB_InterfaceMedium">
                <Control Class="Window" LAnchorPoint="1" LAnchorOffset="-187" TAnchorPoint="0" TAnchorOffset="9" RAnchorPoint="1" RAnchorOffset="-123" BAnchorPoint="0" BAnchorOffset="27" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Rollers1Under" BGColor="ff808080" TextColor="ffffffff" Picture="1" IgnoreMouse="1" Sprite="CRB_Basekit:kitIProgBar_Simple_Base" TooltipColor=""/>
                <Control Class="Window" LAnchorPoint="1" LAnchorOffset="-127" TAnchorPoint="0" TAnchorOffset="9" RAnchorPoint="1" RAnchorOffset="-63" BAnchorPoint="0" BAnchorOffset="27" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Rollers2Under" BGColor="ff808080" TextColor="ffffffff" Picture="1" IgnoreMouse="1" Sprite="CRB_Basekit:kitIProgBar_Simple_Base" TooltipColor=""/>
                <Control Class="Window" LAnchorPoint="1" LAnchorOffset="-67" TAnchorPoint="0" TAnchorOffset="9" RAnchorPoint="1" RAnchorOffset="-3" BAnchorPoint="0" BAnchorOffset="27" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Rollers3Under" BGColor="ff808080" TextColor="ffffffff" Picture="1" IgnoreMouse="1" Sprite="CRB_Basekit:kitIProgBar_Simple_Base" TooltipColor=""/>
                <Control Class="Window" LAnchorPoint="1" LAnchorOffset="-180" TAnchorPoint="0" TAnchorOffset="3" RAnchorPoint="1" RAnchorOffset="-130" BAnchorPoint="0" BAnchorOffset="35" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Rollers1" BGColor="ffffffff" TextColor="ffffffff" Picture="1" IgnoreMouse="1" Sprite="CRB_Basekit:kitIProgBar_Holo_Fill" TooltipColor="" NewControlDepth="4" HideInEditor="0"/>
                <Control Class="Window" LAnchorPoint="1" LAnchorOffset="-120" TAnchorPoint="0" TAnchorOffset="3" RAnchorPoint="1" RAnchorOffset="-70" BAnchorPoint="0" BAnchorOffset="34" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Rollers2" BGColor="ffffffff" TextColor="ffffffff" Picture="1" IgnoreMouse="1" Sprite="CRB_Basekit:kitIProgBar_Holo_Fill" TooltipColor="" NewControlDepth="4"/>
                <Control Class="Window" LAnchorPoint="1" LAnchorOffset="-60" TAnchorPoint="0" TAnchorOffset="3" RAnchorPoint="1" RAnchorOffset="-10" BAnchorPoint="0" BAnchorOffset="34" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Rollers3" BGColor="ffffffff" TextColor="ffffffff" Picture="1" IgnoreMouse="1" Sprite="CRB_Basekit:kitIProgBar_Holo_Fill" TooltipColor="" NewControlDepth="4"/>
                <Control Class="Window" LAnchorPoint="0" LAnchorOffset="8" TAnchorPoint="0" TAnchorOffset="-1" RAnchorPoint="0" RAnchorOffset="114" BAnchorPoint="1" BAnchorOffset="-1" RelativeToClient="1" Font="CRB_InterfaceSmall" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_TextHoloTitle" Template="Default" TooltipType="OnCursor" Name="TitleRollers" TooltipColor="" TextId="" DT_WORDBREAK="1" DT_VCENTER="1" DT_RIGHT="1"/>
            </Control>
        </Control>
    </Form>
</Forms>
uipped, {bPrimary = false, bSelling = false, itemCompare = oArg1}) - OLD
	elseif eType == Tooltip.TooltipGenerateType_GameCommand then
		xml = XmlDoc.new()
		xml:AddLine(oArg2)
		wndControl:SetTooltipDoc(xml)
	elseif eType == Tooltip.TooltipGenerateType_Macro then
		xml = XmlDoc.new()
		xml:AddLine(oArg1)
		wndControl:SetTooltipDoc(xml)
	elseif eType == Tooltip.TooltipGenerateType_Spell then
		Tooltip.GetSpellTooltipForm(self, wndControl, oArg1)
	elseif eType == Tooltip.TooltipGenerateType_PetCommand then
		xml = XmlDoc.new()
		xml:AddLine(oArg2)
		wndControl:SetTooltipDoc(xml)
	end
end

-----------------------------------------------------------
local ActionBarShortcut_Singleton = ActionBarShortcut:new()
ActionBarShortcut_Singleton:Init()
f.wndMountFlyoutFrame:GetAnchorOffsets()

		self.wndMountFlyoutFrame:SetAnchorOffsets(nLeft, nBottom - nHeight - 98, nRight, nBottom)
		self:RedrawBarVisibility()
	else
		self.wndMountFlyout:Show(false)
	end
end

function ActionBarFrame:OnMountBtn(wndHandler, wndControl)
	self.nSelectedMount = wndControl:GetData():GetId()

	self.wndMountFlyoutFrame:Show(false)
	self:RedrawSelectedMounts()
end

function ActionBarFrame:RedrawPotions